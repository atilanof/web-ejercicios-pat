<!DOCTYPE HTML>
<html lang="es" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Programaci√≥n de aplicaciones telem√°ticas</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta name="description" content="Ejercicios y pr√°cticas">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/theme.css">

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Introducci√≥n</a></li><li class="chapter-item expanded "><a href="intro/git/git.html">Git</a><a class="toggle"><div>‚ù±</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="intro/git/prerrequisitos.html">Prerrequisitos</a></li><li class="chapter-item expanded "><a href="intro/git/repositorio.html">Repositorio</a></li><li class="chapter-item expanded "><a href="intro/git/ramas.html">Ramas</a></li><li class="chapter-item expanded "><a href="intro/git/gitflow.html">Git flow</a></li><li class="chapter-item expanded "><a href="intro/git/ci.html">CI</a></li><li class="chapter-item expanded "><a href="intro/git/cd.html">CD</a></li><li class="chapter-item expanded "><a href="intro/git/cicd.html">CI/CD</a></li></ol></li><li class="chapter-item expanded "><a href="intro/docker/docker.html">Docker</a><a class="toggle"><div>‚ù±</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="intro/docker/prerrequisitos.html">Prerrequisitos</a></li><li class="chapter-item expanded "><a href="intro/docker/imagenes.html">Im√°genes</a></li><li class="chapter-item expanded "><a href="intro/docker/contenedores.html">Contenedores</a></li><li class="chapter-item expanded "><a href="intro/docker/orquestacion.html">Orquestaci√≥n</a></li><li class="chapter-item expanded "><a href="intro/docker/entorno.html">Entorno desarrollo</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Tema 1</li><li class="chapter-item expanded "><a href="tema1/paradigmas/paradigmas.html">Paradigmas de programaci√≥n</a><a class="toggle"><div>‚ù±</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="tema1/paradigmas/estructurada.html">Estructurada</a></li><li class="chapter-item expanded "><a href="tema1/paradigmas/procedural.html">Imperativa - Procedural</a></li><li class="chapter-item expanded "><a href="tema1/paradigmas/objetos.html">Imperativa - Orientada a objetos</a></li><li class="chapter-item expanded "><a href="tema1/paradigmas/funcional.html">Declarativa - Funcional</a></li><li class="chapter-item expanded "><a href="tema1/paradigmas/reactiva.html">Declarativa - Reactiva</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Tema 2</li><li class="chapter-item expanded "><a href="tema2/http.html">HTTP</a><a class="toggle"><div>‚ù±</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="tema2/prerrequisitos.html">Prerrequisitos</a></li><li class="chapter-item expanded "><a href="tema2/conexiones.html">Conexiones</a></li><li class="chapter-item expanded "><a href="tema2/peticiones.html">Peticiones</a></li><li class="chapter-item expanded "><a href="tema2/respuestas.html">Respuestas</a></li><li class="chapter-item expanded "><a href="tema2/servidor.html">Servidor</a></li><li class="chapter-item expanded "><a href="tema2/cookies.html">Cookies</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Programaci√≥n de aplicaciones telem√°ticas</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/apicai/web-ejercicios-pat-2023" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introducci√≥n"><a class="header" href="#introducci√≥n">Introducci√≥n</a></h1>
<p>Ejemplos de c√≥digo y pr√°cticas para la asignatura &quot;Programaci√≥n de Aplicaciones Telem√°ticas&quot;. Algunos de ellos pueden ejecutarse desde esta misma web (los basados en Javascript, CSS y HTML). El resto se puede ejecutar desde <a href="https://github.com/features/codespaces">Github Codespaces</a> o bien en local usando contenedores <a href="https://www.docker.com/">Docker</a>. Para la entrega de pr√°cticas tambi√©n se utilizar√° <a href="https://git-scm.com/">Git</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="git"><a class="header" href="#git">Git</a></h1>
<p><strong>Git</strong> es un sistema de control de versiones (VCS) basado en el uso de ramas para gestionar los cambios. <strong>Github</strong> es un servicio de alojamiento de c√≥digo que usa Git como VCS y sobre el que se ofrecen otras funcionalidades relacionadas con el desarrollo colaborativo de software.</p>
<h2 id="objetivos"><a class="header" href="#objetivos">Objetivos</a></h2>
<ul>
<li>
<p>Usar Git desde la l√≠nea de comandos<sup class="footnote-reference"><a href="#1">1</a></sup> para gestionar los cambios.</p>
</li>
<li>
<p>Usar Github para simular un flujo de trabajo colaborativo<sup class="footnote-reference"><a href="#2">2</a></sup> configurado con una integraci√≥n y despliegue continuos (CI/CD)<sup class="footnote-reference"><a href="#3">3</a></sup>.</p>
</li>
<li>
<p>Crear una p√°gina web est√°tica y publicarla en Internet<sup class="footnote-reference"><a href="#4">4</a></sup>.</p>
</li>
</ul>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>Usando el entorno de desarrollo en la nube <a href="https://github.com/features/codespaces">Github-Codespaces</a>.</p>
</div>
<div class="footnote-definition" id="2"><sup class="footnote-definition-label">2</sup>
<p>Basado en el propuesto por <a href="https://docs.github.com/en/get-started/quickstart/github-flow">GitHub-Flow</a>.</p>
</div>
<div class="footnote-definition" id="3"><sup class="footnote-definition-label">3</sup>
<p>Usando las <a href="https://github.com/features/actions">GitHub-Actions</a>.</p>
</div>
<div class="footnote-definition" id="4"><sup class="footnote-definition-label">4</sup>
<p>Alojada en <a href="https://pages.github.com/">Github-Pages</a>.</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="git-1"><a class="header" href="#git-1">Git</a></h1>
<h2 id="prerrequisitos"><a class="header" href="#prerrequisitos">Prerrequisitos</a></h2>
<ul>
<li>
<p>Para hacer la pr√°ctica es necesaria una cuenta en <a href="https://github.com/">github.com</a>.</p>
</li>
<li>
<p>Basta con una cuenta gratuita, que dispone de 60h mensuales de uso de Codespaces<sup class="footnote-reference"><a href="#1">1</a></sup></p>
<blockquote>
<p>‚ö†Ô∏è <strong>Importante</strong>: <em>hay que parar el codespace una vez se deja de usar para evitar consumir minutos innecesariamente. Por defecto tiene un tiempo de inactividad de 30 minutos tras el cual se para autom√°ticamente. Es recomendable reducirlo a 15 minutos<sup class="footnote-reference"><a href="#2">2</a></sup>.</em></p>
</blockquote>
</li>
</ul>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>Para comprobar el consumo ir a <a href="https://github.com/settings/billing">Billing</a> <code>‚ûú</code> Codespaces</p>
</div>
<div class="footnote-definition" id="2"><sup class="footnote-definition-label">2</sup>
<p>El tiempo de inactividad se puede reducir en <a href="https://github.com/settings/codespaces#default-idle-timeout-header">Codespaces setting</a> <code>‚ûú</code> Default idle timeout</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="git-2"><a class="header" href="#git-2">Git</a></h1>
<h2 id="repositorio"><a class="header" href="#repositorio">Repositorio</a></h2>
<p>Los repositorios alojan el c√≥digo junto con la metainformaci√≥n asociada al hist√≥rico de cambios. Github proporciona uno basado en el VCS Git como un servicio en la nube.</p>
<ol>
<li>
<p>Desde tu cuenta personal de Github <a href="https://github.com/new">crea</a> un nuevo repositorio <strong>p√∫blico</strong> llamado <code>ci-cd</code> inicializado con un fichero <code>README.md</code> .</p>
</li>
<li>
<p>Desde el nuevo repo <code>https://github.com/{usuario}/ci-cd</code> crea un nuevo Codespace. Una vez haya arrancado el entorno, desde el terminal del Codespace teclea:</p>
<pre><code class="language-bash">cd /tmp
git clone https://github.com/{usuario}/ci-cd
ls ci-cd
cat ci-cd/README.md
</code></pre>
<blockquote>
<p>üîç <strong>Nota:</strong> <em>Cambia <code>{usuario}</code> por tu nombre de usuario en Github.</em></p>
</blockquote>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>¬øPara qu√© vale <code>git clone</code>? ¬øen qu√© se diferencia de un &quot;fork&quot; del repo? ¬øy de <code>git init</code>?</em></p>
</blockquote>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="git-3"><a class="header" href="#git-3">Git</a></h1>
<h2 id="ramas"><a class="header" href="#ramas">Ramas</a></h2>
<p>Los cambios en Git se realizan utilizando ramas. Las ramas representan una l√≠nea de desarrollo independiente dentro del repo. La rama inicial suele llamarse <code>main</code><sup class="footnote-reference"><a href="#1">1</a></sup>. Los cambios en una rama se realizan en 3 pasos: <code>‚ë† add ‚ûú ‚ë° commit ‚ûú ‚ë¢ push</code>.</p>
<ol>
<li>
<p>Desde el Codespace anterior y usando el editor crea un nuevo directorio <code>src</code> y un fichero <code>index.html</code> dentro de √©l con el siguiente contenido:</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;&lt;title&gt;&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;/body&gt;
&lt;/html&gt;
</code></pre>
</li>
<li>
<p>Desde el terminal del Codespace teclea:</p>
<pre><code class="language-bash">cd /workspaces/ci-cd
git status
git add .
git commit -m &quot;feat: homepage&quot;
git push origin main
</code></pre>
<p>Comprueba que el nuevo directorio/fichero se encuentra ahora en el repo remoto (<code>https://github.com/{usuario}/ci-cd</code>).</p>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>¬øPara qu√© han valido cada uno de los comandos <code>git</code> anteriores?</em></p>
</blockquote>
</li>
</ol>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>Antes se llamaba <code>master</code> y hay algunos repos que consevan ese nombre.</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="git-4"><a class="header" href="#git-4">Git</a></h1>
<h2 id="git-flow"><a class="header" href="#git-flow">Git flow</a></h2>
<p>Es el convenio que elige cada equipo de desarrollo para organizar el uso de las ramas del repo. Github-Flow es uno de ellos, y propone: ‚ù∂ la rama <code>main</code> siempre tiene el c√≥digo v√°lido y desplegable, ‚ù∑ los cambios se hacen en ramas nuevas desde <code>main</code>, ‚ù∏ las Pull Requests (PR) permiten solicitar la incorporaci√≥n de los cambios en <code>main</code>, ‚ùπ tras la revisi√≥n de la PR, los cambios se mezclan en <code>main</code>.</p>
<ol>
<li>
<p>Desde el terminal del Codespace anterior teclea:</p>
<pre><code class="language-bash">git checkout main
git checkout -b feat/add-body
</code></pre>
</li>
<li>
<p>Desde el editor del Codespace actualiza la l√≠nea <code>&lt;body&gt;&lt;p&gt;Hola {usuario}&lt;/p&gt;&lt;/body&gt;</code> del fichero <code>src/index.html</code>.</p>
</li>
<li>
<p>Desde el terminal del Codespace teclea:</p>
<pre><code class="language-bash">git add .
git commit -m &quot;feat: add body&quot;
git push origin feat/add-body
</code></pre>
</li>
<li>
<p>Crea una nueva PR de <code>feat/add-body ‚ûú main</code> en Github (<code>https://github.com/{usuario}/ci-cd/pull/new/feat/add-body</code>), rev√≠sala y mezcla.</p>
</li>
<li>
<p>Desde el terminal del Codespace teclea:</p>
<pre><code class="language-bash">git checkout main
git pull origin main
</code></pre>
</li>
</ol>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>¬øPara qu√© han valido los comandos <code>git checkout -b</code>, <code>git checkout</code> y <code>git pull</code>? ¬øCu√°les son los beneficios de usar este flujo de trabajo en el contexto de un desarrollo colaborativo?</em></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="git-5"><a class="header" href="#git-5">Git</a></h1>
<h2 id="ci"><a class="header" href="#ci">CI</a></h2>
<p>La integraci√≥n continua consiste en la ejecuci√≥n autom√°tica de pruebas y la obtenci√≥n de sus informes cada vez que cambia el c√≥digo.</p>
<ol>
<li>
<p>Crea un nuevo workflow llamado <code>ci.yml</code> desde las Github-Actions del repo (<code>https://github.com/{usuario}/ci-cd/actions/new</code>) <code>‚ûú</code> &quot;set up a workflow yourself&quot; con el siguiente contenido:</p>
<pre><code class="language-yaml">name: CI
on:
  push:
    branches: [ &quot;main&quot; ]
jobs:
  html-validator:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - name: HTML validator
      run: docker run --rm -v ${{ github.workspace }}/src:/src ghcr.io/validator/validator:latest vnu /src/index.html
</code></pre>
</li>
<li>
<p>Guarda los cambios en el repo dando a &quot;Start commit&quot; <code>‚ûú</code> &quot;Commit new file&quot; y comprueba el resultado de la ejecuci√≥n en las Actions del repo (<code>https://github.com/{usuario}/ci-cd/actions</code>).</p>
</li>
</ol>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>¬øPor qu√© se ha disparado la ejecuci√≥n de la CI? ¬øCu√°l ha sido el resultado de la ejecuci√≥n de la CI y qu√© objetivo ha tenido?</em></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="git-6"><a class="header" href="#git-6">Git</a></h1>
<h2 id="cd"><a class="header" href="#cd">CD</a></h2>
<p>El despliegue continuo permite instalar autom√°ticamente los cambios una vez que estos han superado todas las pruebas.</p>
<ol>
<li>
<p>Entra en la configuraci√≥n de Github-Pages del repo (<code>https://github.com/{usuario}/ci-cd/settings/pages</code>) <code>‚ûú</code> &quot;Source&quot; <code>‚ûú</code> &quot;GitHub Actions&quot; <code>‚ûú</code> &quot;Static HTML&quot; <code>‚ûú</code> &quot;Configure&quot;. Renombra el workflow a <code>cd.yml</code> y modifica las siguientes propiedades de su contenido:</p>
<ul>
<li><code>name: CD</code></li>
<li><code>path: './src'</code></li>
</ul>
</li>
<li>
<p>Guarda los cambios en el repo dando a &quot;Start commit&quot; <code>‚ûú</code> &quot;Commit new file&quot; y comprueba el resultado de la ejecuci√≥n en las Actions del repo (<code>https://github.com/{usuario}/ci-cd/actions</code>).</p>
</li>
<li>
<p>Comprueba que la p√°gina web se puede ver desde <code>https://{usuario}.github.io/ci-cd/</code>.</p>
</li>
</ol>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>¬øPor qu√© se ha disparado la ejecuci√≥n de la CI y del CD? ¬øQu√© problema ves en que se haya ejecutado correctamente el CD cuando ha fallado la CI?</em></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="git-7"><a class="header" href="#git-7">Git</a></h1>
<h2 id="cicd"><a class="header" href="#cicd">CI/CD</a></h2>
<p>Combinando ambos procesos es posible automatizar los despliegues de nuevas versiones con la certeza de que no tienen fallos y que, en caso de haberlos, se impida la integraci√≥n de los cambios y su despliegue.</p>
<ol>
<li>
<p>Modifica esta secci√≥n del workflow de CI con:</p>
<pre><code class="language-yaml">on:
  pull_request:
    branches: [ &quot;main&quot; ]
  workflow_call:
</code></pre>
</li>
<li>
<p>Modifica el comienzo de esta secci√≥n del workflow de CD con:</p>
<pre><code class="language-yaml">jobs:
  ci:
    uses: ./.github/workflows/ci.yml
  deploy:
    needs: [ci]
</code></pre>
</li>
<li>
<p>Sube los cambios y comprueba el resultado en las Actions del repo (<code>https://github.com/{usuario}/ci-cd/actions</code>).</p>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>¬øPuedes explicar los cambios anteriores a partir del resultado observado?</em></p>
</blockquote>
</li>
<li>
<p>Modifica el fichero <code>./src/index.html</code> para que la CI pase, sube los cambios y comprueba el resultado en las Actions del repo y en la web desplegada.</p>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>¬øQu√© Actions se ejecutan al hacer una PR y cu√°les se ejecutan al mezclar cambios en <code>main</code>? ¬øPor qu√© representa un problema subir directamente los cambios a <code>main</code> en lugar de usar una PR?</em></p>
</blockquote>
</li>
<li>
<p>Entra en las reglas de protecci√≥n de ramas del repo en Github (<code>https://github.com/{usuario}/ci-cd/settings/branches</code>) <code>‚ûú</code> &quot;Add rule&quot; y usa estos valores:</p>
<ul>
<li>Branch name pattern: <code>main</code></li>
<li>‚òëÔ∏è Require a pull request before merging</li>
<li>‚òëÔ∏è Require status checks to pass before merging</li>
</ul>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>¬øQu√© ocurre ahora al intentar hacer cambios directamente en <code>main</code>? ¬øy al hacer una PR conteniendo un cambio que no pasa la CI?</em></p>
</blockquote>
</li>
</ol>
<blockquote>
<p>‚ö†Ô∏è <strong>Importante</strong>: <em>para o borra el <a href="https://github.com/codespaces">Codespace</a> al terminar de usarlo.</em></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="docker"><a class="header" href="#docker">Docker</a></h1>
<p><strong>Docker</strong> es el gestor de contenedores m√°s popular. Un <strong>contenedor</strong> es un paquete que incluye todo lo necesario para ejecutar de manera independiente una aplicaci√≥n. Los contenedores se ejecutan<sup class="footnote-reference"><a href="#1">1</a></sup> de forma aislada y virtualizada de modo que la aplicaci√≥n solo ve los recursos asignados al contenedor. Esto permite distribuir<sup class="footnote-reference"><a href="#2">2</a></sup> el software garantizando el mismo comportamiento en todos los entornos, orquestar el despliegue de varios contenedores conformando un servicio, y automatizar la asignaci√≥n de recursos en funci√≥n de la carga (escalado horizontal)<sup class="footnote-reference"><a href="#3">3</a></sup>.</p>
<h2 id="objetivos-1"><a class="header" href="#objetivos-1">Objetivos</a></h2>
<ul>
<li>Usar Docker desde la l√≠nea de comandos para crear im√°genes y arrancarlas localmente como contenedores.</li>
<li>Usar Docker Compose para montar un entorno de desarrollo local que nos permita hacer lo mismo que en la pr√°ctica de Git (que usaba el entorno de desarrollo en la nube Github-Codespaces).</li>
<li>Tener un entorno de desarrollo local con las herramientas necesarias para las pr√°cticas (<code>git</code>, <code>java</code>, validadores, servidores, etc.).</li>
</ul>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>Existen varios &quot;runtimes&quot;, el que usa Docker est√° basado originalmente en <a href="https://containerd.io/">containerd</a>.</p>
</div>
<div class="footnote-definition" id="2"><sup class="footnote-definition-label">2</sup>
<p>El formato en que se distribuye se llama imagen, y el que usa Docker est√° basado en <a href="https://opencontainers.org/">OCI</a>.</p>
</div>
<div class="footnote-definition" id="3"><sup class="footnote-definition-label">3</sup>
<p><a href="https://kubernetes.io/">Kubernetes</a> es la plataforma m√°s popular que gestiona la infraestructura hardware subyacente como un √∫nico recurso computacional que corre contenedores.</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="docker-1"><a class="header" href="#docker-1">Docker</a></h1>
<h2 id="prerrequisitos-1"><a class="header" href="#prerrequisitos-1">Prerrequisitos</a></h2>
<ul>
<li>
<p>Instalar <a href="https://www.docker.com/products/docker-desktop/">Docker Desktop</a>. </p>
</li>
<li>
<p>Una l√≠nea de comandos: PowerShell en Windows o cualquier terminal en Linux/MacOS.</p>
<blockquote>
<p>üîç <strong>Nota:</strong> <em>Utilizar las herramientas por l√≠nea de comandos ayuda a entenderlas mejor, y al mismo tiempo permiten desarrollar scripts para automatizar tareas relacionadas.</em></p>
</blockquote>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="docker-2"><a class="header" href="#docker-2">Docker</a></h1>
<h2 id="im√°genes"><a class="header" href="#im√°genes">Im√°genes</a></h2>
<p>Para crear una imagen que contenga las librer√≠as, herramientas, configuraciones, etc. necesarias para ejecutar nuestra aplicaci√≥n se utiliza un <a href="https://docs.docker.com/engine/reference/builder/">Dockerfile</a>. Los Dockerfile parten de una imagen padre base sobre la que se instalan las dependencias necesarias. Las im√°genes p√∫blicas se alojan en un &quot;registry&quot;<sup class="footnote-reference"><a href="#1">1</a></sup> del que se descargan si no est√°n cacheadas localmente.</p>
<ol>
<li>
<p>Crea el fichero <code>practicas/Dockerfile</code> con este contenido:</p>
<pre><code class="language-bash">FROM alpine
RUN apk add --no-cache bash openssh git git-bash-completion
RUN git clone https://github.com/magicmonty/bash-git-prompt.git /root/.bash-git-prompt --depth=1
RUN echo -e &quot;source /usr/share/bash-completion/completions/git\nsource /root/.bash-git-prompt/gitprompt.sh&quot; &gt; /root/.bashrc
CMD [&quot;/bin/bash&quot;]
</code></pre>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>¬øPara que valen las instrucciones <code>FROM</code>, <code>RUN</code> y <code>CMD</code>? ¬øQu√© software estar√° disponible en la imagen?</em></p>
</blockquote>
</li>
<li>
<p>Con Docker arrancando, ejecuta en un terminal:</p>
<pre><code class="language-bash">cd {ruta}/practicas
docker build -t git .
docker images
</code></pre>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>¬øQu√© hacen los comandos <code>docker</code> anteriores? ¬øCu√°l es el &quot;registry&quot;, &quot;repository&quot; y &quot;tag&quot; de la imagen padre descargada?</em></p>
</blockquote>
</li>
</ol>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>Identificadas con este formato de nombre: <code>registry/repository:tag</code></p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="docker-3"><a class="header" href="#docker-3">Docker</a></h1>
<h2 id="contenedores"><a class="header" href="#contenedores">Contenedores</a></h2>
<p>Los contenedores se arrancan a partir del nombre de la imagen. Los contenedores ejecutan un √∫nico proceso y cuando √©ste termina se detiene el contenedor. Los contenedores parados se pueden volver a arrancar sin perder sus datos entre reinicios. Adem√°s, pueden compartir ficheros con el SO anfitri√≥n.</p>
<ol>
<li>
<p>Con Docker arrancando, ejecuta desde un terminal:</p>
<pre><code class="language-bash">docker run --name git -v $(pwd):/practicas:rw -it git
</code></pre>
<pre><code class="language-bash"># ... dentro del contenedor ...
cd /practicas
git clone https://github.com/{usuario}/ci-cd
exit
</code></pre>
<blockquote>
<p>‚ö†Ô∏è <strong>Importante</strong>: <em>El repo <code>https://github.com/{usuario}/ci-cd</code> es el creado en la pr√°ctica de Git. Si no la hiciste, entra Github y <a href="https://github.com/new">crea</a> un nuevo repositorio p√∫blico llamado &quot;ci-cd&quot; inicializado con un fichero README.md.</em></p>
</blockquote>
</li>
<li>
<p>Comprueba que tambi√©n se ha creado el directorio <code>practicas/ci-cd/</code> en tu SO anfitri√≥n.</p>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>Explica qu√© hace concretamente el <code>docker run</code> utilizado. ¬øCu√°l es el proceso que ejecuta el contenedor al arrancarse? ¬øPor qu√© necesitamos el modo <code>rw</code> y no basta con <code>ro</code>?</em></p>
</blockquote>
</li>
<li>
<p>Ejecuta en el terminal anterior: </p>
<pre><code class="language-bash">docker ps --all
docker start -ai git
</code></pre>
<pre><code class="language-bash"># ... dentro del contenedor ...
exit
</code></pre>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>¬øPor qu√© <code>docker ps</code> dice que el contenedor est√° parado? ¬øPor qu√© en la √∫ltima parte tenemos que usar <code>docker start</code> en vez de <code>docker run</code>? ¬øPor qu√© no necesitamos especificar la carpeta compartida con <code>docker start</code>?</em></p>
</blockquote>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="docker-4"><a class="header" href="#docker-4">Docker</a></h1>
<h2 id="orquestaci√≥n"><a class="header" href="#orquestaci√≥n">Orquestaci√≥n</a></h2>
<p>Un servicio real suele componerse de varios componentes (servidores web, backends, bases de datos, brokers de mensajes, etc.). En una arquitectura de microservicios esos componentes se despliegan como contenedores, y es necesario coordinar su arranque y comunicaci√≥n. En un entorno real se utiliza <a href="https://kubernetes.io/">Kubernetes</a>, pero para probar en un entorno local se suele usar <a href="https://docs.docker.com/compose/">Docker Compose</a>.</p>
<ol>
<li>
<p>Crea el fichero <code>practicas/ci-cd/docker-compose.yml</code> con este contenido:</p>
<pre><code class="language-yaml">version: &quot;3.9&quot;
name: ci-cd
services:
  vnu:
    image: ghcr.io/validator/validator:latest
    container_name: vnu
    ports: [ &quot;8888:8888&quot; ]
  web:
    image: nginx:alpine
    container_name: web
    volumes: [ &quot;./src:/usr/share/nginx/html:ro&quot; ]
    ports: [ &quot;8080:80&quot; ]
</code></pre>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>Explica qu√© hace el <code>docker-compose.yaml</code> utilizado. ¬øPor qu√© basta con usar el modo <code>ro</code> en el servicio <code>web</code>?</em></p>
</blockquote>
</li>
<li>
<p>Con Docker arrancando, ejecuta en un terminal:</p>
<pre><code class="language-bash">cd {ruta}/practicas/ci-cd
docker-compose up -d
docker ps
</code></pre>
</li>
<li>
<p>Entra con un navegador web en <code>http://localhost:8080/</code>, modifica el fichero <code>practicas/ci-cd/src/index.html</code> en tu SO y refresca el navegador.</p>
</li>
<li>
<p>Entra con un navegador web en <code>http://localhost:8888/</code> y chequea esta URL <code>http://web</code>.</p>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>¬øPor qu√© usamos <code>http://web</code> en lugar de <code>http://localhost:8080</code> para validar nuestra p√°gina web?</em></p>
</blockquote>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="docker-5"><a class="header" href="#docker-5">Docker</a></h1>
<h2 id="entorno-desarrollo"><a class="header" href="#entorno-desarrollo">Entorno desarrollo</a></h2>
<p>En general, los repositorios de software contienen un <code>Dockerfile</code> para su construcci√≥n, distribuci√≥n y despliegue, y un <code>docker-compose.yml</code> que arranca un entorno local para poder probar. Vamos a subir el <code>docker-compose.yml</code> al repo de <code>ci-cd</code>. Para ello nos faltar√≠a configurar nuestras credenciales de Git en el contenedor <code>git</code>.</p>
<ol>
<li>
<p>Con Docker arrancando, ejecuta desde un terminal:</p>
<pre><code class="language-bash">docker start -ai git
</code></pre>
<pre><code class="language-bash"># ... dentro del contenedor ...
ssh-keygen -t ed25519 -C &quot;{email-usuario-github}&quot;
# ... pulsa [‚Ü≤] en cada paso ...
git config --global user.email &quot;{email-usuario-github}&quot;
git config --global user.name &quot;{usuario-github}&quot;
cat /root/.ssh/id_ed25519.pub
# ... copia la salida del comando anterior ...
</code></pre>
</li>
<li>
<p>Entra en Github Settings <code>‚ûú</code> SSH and GPG keys <code>‚ûú</code> New SSH key (<code>https://github.com/settings/ssh/new</code>) y a√±ade la clave SSH:</p>
<ul>
<li>Title: practicas</li>
<li>Key: pega la clave SSH copiada del terminal</li>
</ul>
</li>
<li>
<p>Desde el terminal:</p>
<pre><code class="language-bash">cd /practicas/ci-cd
git remote set-url origin git@github.com:{usuario-github}/ci-cd.git
git checkout -b feat/local-env
git add .
git commit -m &quot;feat: local-env&quot;
git push origin feat/local-env
# ... conf√≠a en la conexi√≥n con Github escribiendo yes ...
</code></pre>
</li>
<li>
<p>Entra en Github y crea la PR (<code>https://github.com/{usuario}/ci-cd/pull/new/feat/local-env</code>).</p>
</li>
</ol>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>El entorno de desarrollo local nos permite descargar, modificar, construir, validar, probar y subir el c√≥digo. ¬øDesde d√≥nde y con qu√© realizar√≠as cada una de esas acciones en el entorno local basado en contenedores que hemos montado?</em></p>
</blockquote>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>Los pasos de configuraci√≥n de Git podr√≠an haberse incluido en la imagen como instrucciones <code>RUN</code> y <code>ADD</code> del Dockerfile. ¬øCu√°les son las ventajas y desventajas con respecto a hacerlo en el contenedor?</em></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="paradigmas-de-programaci√≥n"><a class="header" href="#paradigmas-de-programaci√≥n">Paradigmas de programaci√≥n</a></h1>
<p>Son una manera de clasificar los lenguajes de programaci√≥n en funci√≥n de c√≥mo se ejecutan, c√≥mo se organiza el c√≥digo y/o su estilo de programaci√≥n. Un mismo lenguaje o c√≥digo puede ser multi-paradigma gracias a las caracter√≠sticas del compilador o modelo de ejecuci√≥n, o bien gracias al uso de librer√≠as.</p>
<h2 id="objetivos-2"><a class="header" href="#objetivos-2">Objetivos</a></h2>
<ul>
<li>Revisar los paradigmas m√°s importantes con ejemplos concretos en Javascript.</li>
<li>Identificar las caracter√≠sticas que son intr√≠nsecas al lenguaje y las que son derivadas del uso de librer√≠as.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="paradigmas-de-programaci√≥n-1"><a class="header" href="#paradigmas-de-programaci√≥n-1">Paradigmas de programaci√≥n</a></h1>
<h2 id="estructurada"><a class="header" href="#estructurada">Estructurada</a></h2>
<p>Secuencia de √≥rdenes con control de ejecuci√≥n condicional (<code>if</code>, <code>else</code>) y repetitivo (<code>for</code>, <code>while</code>) que se pueden agrupar en subrutinas o bloques (<code>function</code>).</p>
<details open><summary>M√°ximo valor en lista de enteros...</summary>
<pre><code class="language-js">function max(integers) {
  var m = Number.MIN_SAFE_INTEGER;
  for (var i = 0; i &lt; integers.length; i++) {
    if (m &lt; integers[i]) m = integers[i];
  }
  return m;
}
const integers = [1,2,3,4,5];
console.log(max(integers));
</code></pre>
</details>
<details><summary>Playground...</summary>
<p><br/><iframe
  width="750"
  height="300"
  src="https://unpkg.com/javascript-playgrounds@1.2.3/public/index.html#data=%7B%22code%22%3A%22function%20max(integers)%20%7B%5Cn%20%20var%20m%20%3D%20Number.MIN_SAFE_INTEGER%3B%5Cn%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20integers.length%3B%20i%2B%2B)%20%7B%5Cn%20%20%20%20if%20(m%20%3C%20integers%5Bi%5D)%20m%20%3D%20integers%5Bi%5D%3B%5Cn%20%20%7D%5Cn%20%20return%20m%3B%5Cn%7D%5Cnconst%20integers%20%3D%20%5B1%2C2%2C3%2C4%2C5%5D%3B%5Cnconsole.log(max(integers))%3B%22%7D"
></iframe></p>
</details>
<div style="break-before: page; page-break-before: always;"></div><h1 id="paradigmas-de-programaci√≥n-2"><a class="header" href="#paradigmas-de-programaci√≥n-2">Paradigmas de programaci√≥n</a></h1>
<h2 id="imperativa"><a class="header" href="#imperativa">Imperativa</a></h2>
<p>Las sentencias cambian el estado del programa.</p>
<h3 id="procedural"><a class="header" href="#procedural">Procedural</a></h3>
<p>Los procedimientos (<code>function</code>) modifican los datos o el estado compartido.</p>
<details open><summary>M√°ximo valor en lista de enteros...</summary>
<pre><code class="language-js">let m = Number.MIN_SAFE_INTEGER;
function max(integers) {
  for (let i = 0; i &lt; integers.length; i++) {
    if (m &lt; integers[i]) m = integers[i];
  }
}
function print() {
  console.log(m);
}
function printMax(integers) {
  max(integers);
  print();
}
printMax([1,2,3,4,5]);
</code></pre>
</details>
<details><summary>Playground...</summary>
<p><br/><iframe
  width="750"
  height="400"
  src="https://unpkg.com/javascript-playgrounds@1.2.3/public/index.html#data=%7B%22code%22%3A%22let%20m%20%3D%20Number.MIN_SAFE_INTEGER%3B%5Cnfunction%20max(integers)%20%7B%5Cn%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20integers.length%3B%20i%2B%2B)%20%7B%5Cn%20%20%20%20if%20(m%20%3C%20integers%5Bi%5D)%20m%20%3D%20integers%5Bi%5D%3B%5Cn%20%20%7D%5Cn%7D%5Cnfunction%20print()%20%7B%5Cn%20%20console.log(m)%3B%5Cn%7D%5Cnfunction%20printMax(integers)%20%7B%5Cn%20%20max(integers)%3B%5Cn%20%20print()%3B%5Cn%7D%5CnprintMax(%5B1%2C2%2C3%2C4%2C5%5D)%3B%22%7D"
></iframe></p>
</details>
<div style="break-before: page; page-break-before: always;"></div><h1 id="paradigmas-de-programaci√≥n-3"><a class="header" href="#paradigmas-de-programaci√≥n-3">Paradigmas de programaci√≥n</a></h1>
<h2 id="imperativa-1"><a class="header" href="#imperativa-1">Imperativa</a></h2>
<p>Las sentencias cambian el estado del programa.</p>
<h3 id="orientada-a-objetos"><a class="header" href="#orientada-a-objetos">Orientada a objetos</a></h3>
<p>El problema se modela como objetos que encapsulan la l√≥gica y la parte del estado que controlan.</p>
<details open><summary>M√°ximo valor en lista de enteros...</summary>
<pre><code class="language-js">class MaxFinder {
  constructor(values) { this.values = values; }
  find() { throw Error(&quot;Not implemented&quot;); }
}
class MaxInteger extends MaxFinder {
  constructor(values) { super(values); }
  find() {
    var m = Number.MIN_SAFE_INTEGER;
    for (var i = 0; i &lt; this.values.length; i++) {
      if (m &lt; this.values[i]) m = this.values[i];
    }
    return m;
  }
}
const maxFinder = new MaxInteger([1,2,3,4,5]);
console.log(maxFinder.find());
</code></pre>
</details>
<details><summary>Playground...</summary>
<p><br/><iframe
  width="750"
  height="425"
  src="https://unpkg.com/javascript-playgrounds@1.2.3/public/index.html#data=%7B%22code%22%3A%22class%20MaxFinder%20%7B%5Cn%20%20constructor(values)%20%7B%20this.values%20%3D%20values%3B%20%7D%5Cn%20%20find()%20%7B%20throw%20Error(%5C%22Not%20implemented%5C%22)%3B%20%7D%5Cn%7D%5Cnclass%20MaxInteger%20extends%20MaxFinder%20%7B%5Cn%20%20constructor(values)%20%7B%20super(values)%3B%20%7D%5Cn%20%20find()%20%7B%5Cn%20%20%20%20var%20m%20%3D%20Number.MIN_SAFE_INTEGER%3B%5Cn%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20this.values.length%3B%20i%2B%2B)%20%7B%5Cn%20%20%20%20%20%20if%20(m%20%3C%20this.values%5Bi%5D)%20m%20%3D%20this.values%5Bi%5D%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20return%20m%3B%5Cn%20%20%7D%5Cn%7D%5Cnconst%20maxFinder%20%3D%20new%20MaxInteger(%5B1%2C2%2C3%2C4%2C5%5D)%3B%5Cnconsole.log(maxFinder.find())%3B%22%7D"
></iframe></p>
</details>
<div style="break-before: page; page-break-before: always;"></div><h1 id="paradigmas-de-programaci√≥n-4"><a class="header" href="#paradigmas-de-programaci√≥n-4">Paradigmas de programaci√≥n</a></h1>
<h2 id="declarativa"><a class="header" href="#declarativa">Declarativa</a></h2>
<p>Lo contrario de imperativa: no hay estado, no especifica los pasos ni su orden de ejecuci√≥n, define el &quot;qu√©&quot; pero no el &quot;c√≥mo&quot;.</p>
<h3 id="funcional"><a class="header" href="#funcional">Funcional</a></h3>
<p>Los resultados se obtienen componiendo expresiones (funciones) las cuales pueden devolver otras expresiones o recibirlas como par√°metros.</p>
<details open><summary>M√°ximo valor en lista de enteros...</summary>
<pre><code class="language-js">const max = (integers) =&gt; integers.reduce(
  (accumulator, currentValue) =&gt; accumulator &lt; currentValue ? currentValue : accumulator
);
console.log(max([1, 2, 3, 4, 5]));
</code></pre>
<blockquote>
<p>üîç <strong>Nota:</strong> <em><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce">documentaci√≥n</a> de</em> <code>array.reduce</code>.</p>
</blockquote>
</details>
<details><summary>Playground...</summary>
<p><br/><iframe
  width="750"
  height="175"
  src="https://unpkg.com/javascript-playgrounds@1.2.3/public/index.html#data=%7B%22code%22%3A%22const%20max%20%3D%20(integers)%20%3D%3E%20integers.reduce(%5Cn%20%20(accumulator%2C%20currentValue)%20%3D%3E%20accumulator%20%3C%20currentValue%20%3F%20currentValue%20%3A%20accumulator%5Cn)%3B%5Cnconsole.log(max(%5B1%2C%202%2C%203%2C%204%2C%205%5D))%3B%22%7D"
></iframe></p>
</details><div style="break-before: page; page-break-before: always;"></div><h1 id="paradigmas-de-programaci√≥n-5"><a class="header" href="#paradigmas-de-programaci√≥n-5">Paradigmas de programaci√≥n</a></h1>
<h2 id="declarativa-1"><a class="header" href="#declarativa-1">Declarativa</a></h2>
<p>Lo contrario de imperativa: no hay estado, no especifica los pasos ni su orden de ejecuci√≥n, define el &quot;qu√©&quot; pero no el &quot;c√≥mo&quot;.</p>
<h3 id="reactiva"><a class="header" href="#reactiva">Reactiva</a></h3>
<p>Los resultados se obtienen transformando un &quot;stream&quot; de eventos (datos) y propagando (reaccionando a) los cambios autom√°ticamente.</p>
<details open><summary>M√°ximo valor en lista de enteros...</summary>
<pre><code class="language-js">import { fromEvent } from &quot;https://cdn.skypack.dev/rxjs@7.3.0&quot;;
import { scan, map } from &quot;https://cdn.skypack.dev/rxjs@7.3.0/operators&quot;;

const output = document.querySelector(&quot;output&quot;);
const button = document.querySelector(&quot;button&quot;);

fromEvent(button, &quot;click&quot;)
  .pipe(map(ev =&gt; ev.clientX), scan((total, n) =&gt; total &lt; n ? n : total))
  .subscribe((max) =&gt; {
    output.textContent = &quot;Max X = &quot; + max;
  });
</code></pre>
<blockquote>
<p>üîç <strong>Nota:</strong> <em><a href="https://rxjs.dev/guide/overview">documentaci√≥n</a> de <code>rxjs</code>.</em></p>
</blockquote>
</details>
<details onclick='setTimeout(function(){__CPEmbed(".cp-later")},1)'><summary>Playground...</summary><br/>
<div class="cp-later" data-prefill data-height="400" data-theme-id="light" data-default-tab="js,result" 
data-editable="true" style="opacity:0">
<pre data-lang="html" >
&lt;button&gt;Click me in different places&lt;/button&gt;
&lt;output&gt;&lt;/output&gt;
</pre>
<pre data-lang="js">
import { fromEvent } from "https://cdn.skypack.dev/rxjs@7.3.0";
import { scan, map } from "https://cdn.skypack.dev/rxjs@7.3.0/operators";
const output = document.querySelector("output");
const button = document.querySelector("button");
fromEvent(button, "click")
  .pipe(map(ev =&gt; ev.clientX), scan((total, n) =&gt; total &lt; n ? n : total))
  .subscribe((max) =&gt; { output.textContent = "Max X = " + max; });
</pre>
</div>
<script async src="https://static.codepen.io/assets/embed/ei.js"></script>
</details>
<div style="break-before: page; page-break-before: always;"></div><h1 id="http"><a class="header" href="#http">HTTP</a></h1>
<p>HTTP es un protocolo basado en peticiones y respuestas enviadas en texto plano usando conexiones TCP entre un cliente y un servidor.</p>
<h2 id="objetivos-3"><a class="header" href="#objetivos-3">Objetivos</a></h2>
<ul>
<li>Entender el protocolo como cliente, tecleando peticiones contra un servidor real.</li>
<li>Lo mismo pero como servidor, tecleando respuestas a peticiones de un navegador real.</li>
<li>Conocer herramientas para probar y depurar problemas.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="http-1"><a class="header" href="#http-1">HTTP</a></h1>
<h2 id="prerrequisitos-2"><a class="header" href="#prerrequisitos-2">Prerrequisitos</a></h2>
<p>Para los ejercicios es necesario un terminal con los comandos <code>telnet</code>, <code>openssl</code>, <code>nc</code> y <code>curl</code> disponibles. Para ello, se puede usar un terminal de Github-Codespaces o el de un contenedor de Docker.</p>
<h3 id="docker-6"><a class="header" href="#docker-6">Docker</a></h3>
<ol>
<li>Arranca <a href="https://www.docker.com/products/docker-desktop/">Docker Desktop</a>.</li>
<li>Descarga este <a href="tema2/./Dockerfile">Dockerfile</a>.</li>
<li>En ese directorio abre un terminal y ejecuta:
<pre><code class="language-bash">docker build -t http . ; docker run -p 8080:8080 --rm -it http
</code></pre>
</li>
</ol>
<h3 id="codespaces"><a class="header" href="#codespaces">Codespaces</a></h3>
<ol>
<li>Desde tu cuenta en Github <a href="https://github.com/codespaces/new">crea</a> un Codespace en el repo <code>github/codespaces-blank</code> y arr√°ncalo.</li>
<li>En el terminal del Codespace ejecuta:
<pre><code class="language-bash">sudo apt update &amp;&amp; sudo apt install -y telnet netcat
</code></pre>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="http-2"><a class="header" href="#http-2">HTTP</a></h1>
<h2 id="conexiones"><a class="header" href="#conexiones">Conexiones</a></h2>
<p>En una comunicaci√≥n HTTP, los clientes siempre crean la conexi√≥n. A continuaci√≥n, vamos a usar <a href="https://en.wikipedia.org/wiki/Telnet">telnet</a> para crear una conexi√≥n TCP y simular una comunicaci√≥n HTTP.</p>
<ol>
<li>
<p>Desde el terminal teclea:</p>
<pre><code class="language-bash">telnet httpbin.org 80
</code></pre>
<p>y cuando se conecte pega este contenido (las <strong>2</strong> l√≠neas)<sup class="footnote-reference"><a href="#1">1</a></sup>:</p>
<pre><code class="language-http">HEAD /html HTTP/1.0

</code></pre>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>Para establecer la conexi√≥n y teniendo en cuenta los par√°metros que le hemos pasado a <code>telnet</code>, ¬øqu√© ha tenido √©ste que hacer por nosotros?</em></p>
</blockquote>
</li>
<li>
<p>El servidor contesta con un <code>OK</code> y unas cabeceras de respuesta sin cuerpo. Vuelve a hacer el <strong>paso 1</strong> pero esta vez pon <code>HTTP/1.1</code>.</p>
</li>
<li>
<p>La respuesta esta vez es <code>Bad Request</code> porque esta versi√≥n obliga a enviar la cabecera <code>Host</code><sup class="footnote-reference"><a href="#2">2</a></sup>. Repite el <strong>paso 1</strong> con esta petici√≥n:</p>
<pre><code class="language-http">HEAD /html HTTP/1.1
Host: httpbin.org

</code></pre>
<p>El servidor responde <code>OK</code> pero ahora el comando <code>telnet</code> no termina, contin√∫a conectado. En HTTP 1.0 la conexi√≥n la cierra el servidor inmediatamente tras enviar la respuesta (ver <code>Connection: close</code> de esa respuesta), mientras que en HTTP 1.1 se mantiene abierta (ver <code>Connection: keep-alive</code> de esa respuesta) a la espera de nuevas peticiones. </p>
<blockquote>
<p>üîç <strong>Nota:</strong> <em>Si esperamos unos segundos m√°s, el comando <code>telnet</code> termina porque la conexi√≥n la cierra el servidor. Por un lado, las conexiones TCP son costosas de establecer por lo que interesa mantenerlas abiertas si seguidamente se va a hacer otra petici√≥n. Pero por otro lado, mantener una conexi√≥n consume recursos del servidor que no puede malgastar con un cliente que no env√≠a datos.</em></p>
</blockquote>
</li>
<li>
<p>Para saber cu√°l es el timeout por defecto del servidor, espera a que acabe este comando:</p>
<pre><code class="language-bash">time telnet httpbin.org 80
</code></pre>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>A parte del timeout de lectura y del lado servidor, ¬øqu√© otros tipos de timeout se te ocurren y cu√°l ser√≠a su utilidad?</em></p>
</blockquote>
</li>
<li>
<p>Hasta ahora hemos usado el puerto TCP 80 que es el de por defecto para conexiones HTTP. El puerto por defecto para conexiones seguras es 443. Repite el <strong>paso 1</strong> usando ese puerto.</p>
</li>
<li>
<p>El servidor nos responde con error porque espera que enviemos los mensajes de negociaci√≥n de TLS para cifrar la comunicaci√≥n antes de enviar nada. Repite el <strong>paso 1</strong> usando <code>openssl</code> en lugar de <code>telnet</code><sup class="footnote-reference"><a href="#3">3</a></sup>:</p>
<pre><code class="language-bash">openssl s_client -state -connect httpbin.org:443
</code></pre>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <code>openssl</code> <em>se encarga de cifrar y descifrar los mensajes que enviamos y recibimos con la clave de cifrado intercambiada<sup class="footnote-reference"><a href="#4">4</a></sup>. Esta forma de funcionar, ¬øa qu√© arquitectura se asemeja?</em></p>
</blockquote>
</li>
</ol>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>La l√≠nea en blanco (en realidad <strong>dos</strong> retorno de carro + nueva l√≠nea o <code>CRLF</code> o <code>\r\n</code>) indica el fin del mensaje de la petici√≥n, y en ese momento el servidor env√≠a el mensaje de respuesta.</p>
</div>
<div class="footnote-definition" id="2"><sup class="footnote-definition-label">2</sup>
<p>Es necesaria para que una misma IP pueda servir diferentes dominios web.</p>
</div>
<div class="footnote-definition" id="3"><sup class="footnote-definition-label">3</sup>
<p>TLS es bastante m√°s complicado que HTTP y no podemos escribir sus mensajes con <code>telnet</code>.</p>
</div>
<div class="footnote-definition" id="4"><sup class="footnote-definition-label">4</sup>
<p>Al comienzo de la salida del comando <code>openssl</code> se pueden ver los mensajes TLS intercambiados entre cliente y servidor negociando el cifrado.</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="http-3"><a class="header" href="#http-3">HTTP</a></h1>
<h2 id="peticiones"><a class="header" href="#peticiones">Peticiones</a></h2>
<p>La petici√≥n HTTP m√°s sencilla se compone de <code>{M√âTODO} /{recurso} HTTP/{version}\r\n\r\n</code>. El m√©todo<sup class="footnote-reference"><a href="#1">1</a></sup> indica la acci√≥n a realizar y el recurso<sup class="footnote-reference"><a href="#2">2</a></sup> indica la entidad sobre la que realizar la acci√≥n. Adicionalmente, se pueden incluir cabeceras y un cuerpo para enviar datos.</p>
<ol>
<li>
<p><code>GET</code> permite recuperar el recurso de la ruta indicada. Usa este <code>telnet</code> para enviar la siguente petici√≥n:</p>
<pre><code class="language-bash">telnet httpbin.org 80
</code></pre>
<pre><code class="language-http">GET /anything?param1=?&amp;#=&amp;param2=value2 HTTP/1.0

</code></pre>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>¬øQu√© problema puede causar el valor del primer par√°metro? ¬øqu√© ocurre cuando mandas <code>GET /anything?param1=%3F%26%23%3D&amp;param2=value2 HTTP/1.0</code>?</em></p>
</blockquote>
<blockquote>
<p>üîç <strong>Nota:</strong> <em><a href="https://httpbin.org">httpbin.org</a> es un servicio para jugar con diversas funcionalidades de HTTP. La petici√≥n a <code>/anything</code>, por ejemplo, nos responde con lo que le ha llegado en la petici√≥n.</em></p>
</blockquote>
</li>
<li>
<p><code>POST</code> permite enviar datos al servidor. Vuelve a hacer el <strong>paso 1</strong> con este otro contenido:</p>
<pre><code class="language-http">POST /anything HTTP/1.0
Content-Length: 5

12345

</code></pre>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>¬øQu√© ocurre si indicamos un tama√±o del contenido inferior a lo que realmente mandamos?</em></p>
</blockquote>
</li>
<li>
<p>Si no sabemos el tama√±o de los datos que queremos mandar, se puede enviar la informaci√≥n por partes de tama√±o conocido<sup class="footnote-reference"><a href="#3">3</a></sup>. Prueba esta otra petici√≥n:</p>
<pre><code class="language-http">POST /anything HTTP/1.0
Transfer-Encoding: chunked

9
una parte
A
otra parte
0

</code></pre>
</li>
<li>
<p>Cuando mandamos datos, normalmente tambi√©n se indica qu√© tipo de datos son (texto, imagen, binario,etc.)<sup class="footnote-reference"><a href="#4">4</a></sup>. Existe la posibilidad de mandar en la misma petici√≥n varios datos de diferente tipo. Para ello se usan env√≠os &quot;multipart&quot;. </p>
<ol>
<li>Entra en <a href="https://httpie.io/app">Httpie</a>.</li>
<li>Env√≠a un <code>POST</code> multipart a <code>https://httpbin.org/anything</code>.</li>
<li>Previsualiza la petici√≥n enviada.</li>
</ol>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>¬øEn qu√© caso de uso real puede ser √∫til &quot;multipart&quot;? ¬øy &quot;chunked&quot;?</em></p>
</blockquote>
<blockquote>
<p>üîç <strong>Nota:</strong> <em>Aparte de los navegadores web y sus herramientas para desarrolladores, existen muchas aplicaciones para hacer peticiones HTTP. La m√°s popular es <a href="https://www.postman.com/">Postman</a>, aunque hay muchas m√°s con interfaz gr√°fica. Tambi√©n hay clientes por l√≠nea de comandos como <a href="https://curl.se/">Curl</a> y <a href="https://en.wikipedia.org/wiki/Wget">Wget</a>. <a href="https://httpie.io/">Httpie</a> tiene versi√≥n gr√°fica y por l√≠nea de comandos.</em></p>
</blockquote>
</li>
<li>
<p>Hasta ahora, hemos usado HTTP 1.0 y 1.1. HTTP 2 y 3 son protocolos binarios y HTTP/3 no usa TCP por lo que no podemos probarlo con <code>telnet</code>. Adem√°s, no todos los clientes y servidores los implementan por lo que para usarlos se necesita negociar el protocolo previamente mediante HTTP o TLS. Ejecuta los siguientes comandos:</p>
<pre><code class="language-bash">#¬†... negociaci√≥n v√≠a HTTP/1.1 ...
curl http://httpbin.org/anything -d &quot;12345&quot; -v --http2
#¬†... negociaci√≥n v√≠a TLS/ALPN ...
curl https://httpbin.org/anything -d &quot;12345&quot; -v --http2
</code></pre>
</li>
</ol>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>Los m√©todos o verbos est√°n definidos en la <a href="https://httpwg.org/specs/rfc9110.html#methods">especificaci√≥n</a>. Los m√°s comunes son <code>GET</code> y <code>POST</code>.</p>
</div>
<div class="footnote-definition" id="2"><sup class="footnote-definition-label">2</sup>
<p>La ruta al recurso se puede componer de <code>/path?query#fragment</code>, y la <code>query</code> a su vez se compone de <code>param1=value1&amp;param2=value2&amp;...</code>.</p>
</div>
<div class="footnote-definition" id="3"><sup class="footnote-definition-label">3</sup>
<p>Cada &quot;chunk&quot; se env√≠a indicando primero su longitud en hexadecimal y despu√©s su contenido en una nueva l√≠nea. Para finalizar se env√≠a un &quot;chunk&quot; vac√≠o: <code>0\r\n\r\n</code>.</p>
</div>
<div class="footnote-definition" id="4"><sup class="footnote-definition-label">4</sup>
<p><code>Content-Type</code> es la cabecera que indica el tipo de datos que se env√≠an. Se utilizan <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types#important_mime_types_for_web_developers">MIME types</a> para identificarlos. Por ejemplo, para las peticiones que hemos hecho usar√≠amos <code>Content-Type: text/plain</code>.</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="http-4"><a class="header" href="#http-4">HTTP</a></h1>
<h2 id="respuestas"><a class="header" href="#respuestas">Respuestas</a></h2>
<p>Las respuestas HTTP tienen un formato similar al de las peticiones, y est√°n compuestas por: l√≠nea de estado (<code>HTTP/{version} {c√≥digo} {descripci√≥n}</code>), cabeceras y cuerpo. Los c√≥digos de estado se agrupan en 5 categor√≠as: <code>1xx</code> informativo, <code>2xx</code> √©xito, <code>3xx</code> redirecci√≥n, <code>4xx</code> error del cliente y <code>5xx</code> error del servidor.</p>
<ol>
<li>
<p>Un ejemplo de respuesta <code>1xx</code> se produce cuando se negocia el protocolo de comunicaci√≥n con el servidor (como vimos en HTTP/2 o en el caso de WebSockets<sup class="footnote-reference"><a href="#1">1</a></sup>). Usa este <code>telnet</code> para hacer la siguiente petici√≥n:</p>
<pre><code class="language-bash">telnet demo.piesocket.com 80
</code></pre>
<pre><code class="language-http">GET /v3/channel_123 HTTP/1.1
Host: demo.piesocket.com
Upgrade: websocket
Connection: Upgrade
Sec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ==
Sec-WebSocket-Version: 13

</code></pre>
</li>
<li>
<p>La respuesta <code>2xx</code> m√°s com√∫n es <code>200 OK</code> que suele venir acompa√±ada de un cuerpo. √âste se env√≠a de manera similar al visto en un <code>POST</code> y va acompa√±ado de las mismas cabeceras. Usa este <code>telnet</code> para hacer las siguientes peticiones:</p>
<pre><code class="language-bash">telnet httpbin.org 80
</code></pre>
<pre><code class="language-http">GET /image/png HTTP/1.0

</code></pre>
<pre><code class="language-http">GET /gzip HTTP/1.0

</code></pre>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>Si tuvieras que implementar un navegador web ¬øc√≥mo sabr√≠as interpretar cada uno de los cuerpos de las respuestas anteriores?</em></p>
</blockquote>
</li>
<li>
<p>Un caso de t√≠pico de redirecci√≥n <code>3xx</code> sucede cuando se navega a una web usando <code>http</code> para redirigir a <code>https</code>. Usa este <code>telnet</code> para hacer la siguiente petici√≥n:</p>
<pre><code class="language-bash">telnet github.com 80
</code></pre>
<pre><code class="language-http">HEAD / HTTP/1.1
Host: github.com

</code></pre>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>¬øPara qu√© otros casos usar√≠as redirecciones?</em></p>
</blockquote>
</li>
<li>
<p>Los errores <code>4xx</code> corresponden a peticiones incorrectas, y normalmente repetirlas no va a hacer que funcione. El ejemplo t√≠pico es cuando se solicita un recurso inexistente: <code>404 Not Found</code>. Otro ejemplo ocurre cuando una web solicita credenciales para acceder. Usa este <code>telnet</code> para hacer las siguientes peticiones:</p>
<pre><code class="language-bash">telnet httpbin.org 80
</code></pre>
<pre><code class="language-http">GET /basic-auth/user/pass HTTP/1.0

</code></pre>
<pre><code class="language-http">GET /basic-auth/user/pass HTTP/1.0
Authorization: Basic dXNlcjpwYXNz

</code></pre>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>La autenticacion b√°sica no cifra el usuario y password de manera segura<sup class="footnote-reference"><a href="#2">2</a></sup>. Para asegurar que no se filtren ¬øqu√© otra cosa deber√≠amos usar con este tipo de autenticaci√≥n?</em></p>
</blockquote>
</li>
<li>
<p>Los errores <code>5xx</code> corresponden a problemas en el servidor, como servidor sobrecargado o errores de implementaci√≥n del servicio. Usa este <code>telnet</code> para hacer las siguientes peticiones:</p>
<pre><code class="language-bash">telnet httpbin.org 80
</code></pre>
<pre><code class="language-http">GET /delay/invalid HTTP/1.0

</code></pre>
</li>
</ol>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p><a href="https://en.wikipedia.org/wiki/WebSocket">WebSocket</a> es otro protocolo de comunicaci√≥n al nivel de HTTP pero que no sigue el modelo petici√≥n-respuesta y usa tramas binarias para intercambiar la informaci√≥n.</p>
</div>
<div class="footnote-definition" id="2"><sup class="footnote-definition-label">2</sup>
<p>En el esquema de autenticaci√≥n b√°sica el <code>usuario:password</code> se codifica en <a href="https://en.wikipedia.org/wiki/Base64">Base64</a>.</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="http-5"><a class="header" href="#http-5">HTTP</a></h1>
<h2 id="servidor"><a class="header" href="#servidor">Servidor</a></h2>
<p>En una comunicaci√≥n HTTP, los servidores permanecen a la escucha de peticiones en un puerto concreto. A continuaci√≥n, vamos a usar <a href="https://en.wikipedia.org/wiki/Netcat">netcat</a> para abrir un puerto TCP y simular respuestas HTTP.</p>
<ol>
<li>
<p>Desde el terminal ejecuta:</p>
<pre><code class="language-bash">nc -l -s 0.0.0.0 -p 8080
</code></pre>
</li>
<li>
<p>En un navegador web abre o refresca <a href="http://localhost:8080">http://localhost:8080</a> si est√°s usando <strong>Docker</strong>. En caso de usar <strong>Codespaces</strong> utiliza la URL que se indica al ejecutar el comando anterior en el terminal.</p>
</li>
<li>
<p>Vuelve al terminal y comprueba que ha llegado la petici√≥n.</p>
</li>
<li>
<p>En el terminal pega esta respuesta:</p>
<pre><code class="language-http">HTTP/1.0 200 OK
Content-Type: text/plain
Content-Length: 9

Respuesta
</code></pre>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>Para que netcat se d√© cuenta de que la conexi√≥n la cerr√≥ el navegador, pulsa <kbd>‚Ü≤</kbd> varias veces. ¬øPor qu√© se cerr√≥ la conexi√≥n?</em></p>
</blockquote>
</li>
<li>
<p>Vamos a simular una descarga. Repite los <strong>pasos anteriores</strong> pero en el √∫ltimo usa esta otra respuesta:</p>
<pre><code class="language-http">HTTP/1.0 200 OK
Content-Type: text/plain
Content-Length: 9
Content-Disposition: attachment; filename=&quot;respuesta.txt&quot;

Respuesta
</code></pre>
</li>
<li>
<p>Vamos a simular una redirecci√≥n. Vuelve a repetir los <strong>pasos 1, 2 y 3</strong>, y usa esta otra respuesta:</p>
<pre><code class="language-http">HTTP/1.0 302 Found
Content-Length: 0
Location: https://www.google.com/search?q=browser+cache+301+redirect

</code></pre>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>¬øQu√© pasar√≠a si hubi√©ramos devuelto una redirecci√≥n <code>301</code> permanente? Consejo: ¬°no lo pruebes!</em></p>
</blockquote>
</li>
<li>
<p>Vamos a simular una autenticaci√≥n b√°sica. Repite los <strong>pasos 1, 2 y 3</strong>, y usa esta otra respuesta:</p>
<pre><code class="language-http">HTTP/1.1 401 UNAUTHORIZED
Content-Length: 0
WWW-Authenticate: Basic realm=&quot;Mi servidor netcat&quot;

</code></pre>
<p>Completa en el navegador los campos para introducir el usuario y password, y dale a enviar. Vuelve al terminal y observa como te llega el usuario y password. Para terminar, pega la respuesta del <strong>paso 4</strong>.</p>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>¬øPodr√≠as conocer el password de un usuario de tu servidor con este tipo de autenticaci√≥n?</em></p>
</blockquote>
</li>
<li>
<p>Vamos a ver c√≥mo el navegador manda los datos de un formulario web. Repite el <strong>paso 1</strong>, rellena el formulario siguiente y env√≠alo. Si usas Codespaces, sustituye <code>http://localhost:8080</code> en el HTML por la URL proporcionada en el entorno.</p>
<details onclick='setTimeout(function(){__CPEmbed(".cp-later")},1)'><summary>Formulario...</summary><br/>
 <div class="cp-later" data-height="370" data-theme-id="light" data-default-tab="html,result" data-editable="true" data-prefill style="opacity:0">
 <pre data-lang="html">&lt;form id="myForm" action="http://localhost:8080" method="post">
 &lt;fieldset>
     &lt;label for="name">Text Input:&lt;/label>
     &lt;input type="text" name="name" id="name" value="" tabindex="1" placeholder="Placeholder">
 &lt;/fieldset>
 &lt;fieldset>
     &lt;label for="radio-choice-1">Choice 1&lt;/label>
     &lt;input type="radio" name="radio-choice-1" id="radio-choice-1" tabindex="2" value="choice-1">
     &lt;label for="radio-choice-2">Choice 2&lt;/label>
     &lt;input type="radio" name="radio-choice-2" id="radio-choice-2" tabindex="3" value="choice-2">
 &lt;/fieldset>
 &lt;fieldset>
     &lt;label for="select-choice">Select Dropdown Choice:&lt;/label>
     &lt;select name="select-choice" id="select-choice">
     &lt;option value="Choice 1">Choice 1&lt;/option>
     &lt;option value="Choice 2">Choice 2&lt;/option>
     &lt;option value="Choice 3">Choice 3&lt;/option>
     &lt;/select>
 &lt;/fieldset>
 &lt;fieldset>
     &lt;label for="textarea">Textarea:&lt;/label>
     &lt;textarea rows="2" cols="25" name="textarea" id="textarea" placeholder="Placeholder">&lt;/textarea>
 &lt;/fieldset>
 &lt;fieldset>
     &lt;label for="checkbox">Checkbox:&lt;/label>
     &lt;input type="checkbox" name="checkbox">
 &lt;/fieldset>
 &lt;fieldset>
     &lt;input type="submit" value="Submit">
 &lt;/fieldset>
 &lt;/form></pre></div>
 <script async src="https://static.codepen.io/assets/embed/ei.js"></script>
 </details>
<p>Edita el HTML y quita el <code>method=&quot;post&quot;</code>. Repite el <strong>paso 1</strong> y env√≠a el formulario con ese cambio.</p>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>¬øCu√°l es el m√©todo por defecto de un formulario web? ¬øEn qu√© situaciones elegir√≠as uno u otro? Si envias &quot;√ë&quot; en alg√∫n campo ¬øen qu√© codificaci√≥n llega al servidor?</em></p>
</blockquote>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="http-6"><a class="header" href="#http-6">HTTP</a></h1>
<h2 id="cookies"><a class="header" href="#cookies">Cookies</a></h2>
<p>Las cookies son datos creados en el servidor que se env√≠an<sup class="footnote-reference"><a href="#1">1</a></sup> a los navegadores para que los almacenen y reenv√≠en<sup class="footnote-reference"><a href="#1">1</a></sup> en cada futura petici√≥n al mismo servidor (URL). Esos datos pueden contener informaci√≥n de acceso (autenticaci√≥n), estado (carrito de la compra), configuraci√≥n (tema L&amp;F), rastreo (publicidad), etc.</p>
<ol>
<li>
<p>Las cookies de sesi√≥n se borran cuando se cierra el navegador. Repite los <strong>pasos 1, 2 y 3</strong> de la p√°gina anterior, y usa esta respuesta:</p>
<pre><code class="language-http">HTTP/1.0 200 OK
Set-Cookie: mi-cookie-de-sesion=valor
Content-Length: 0

</code></pre>
<p>Vuelve a repetir los <strong>3 primeros pasos</strong>, y comprueba que ahora el navegador env√≠a la cookie en la petici√≥n. Comprueba si con cerrar la pesta√±a es suficiente o has de salir del navegador para que la cookie de sesi√≥n deje de enviarse.</p>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>¬øEn qu√© casos utilizar√≠as una cookie de sesi√≥n?</em></p>
</blockquote>
</li>
<li>
<p>Las cookies &quot;permanentes&quot; las deja de enviar el navegador en la fecha indicada por el servidor. Repite los pasos para enviar esta respuesta:</p>
<pre><code class="language-http">HTTP/1.0 200 OK
Set-Cookie: mi-cookie-permanente=valor; Max-Age=60
Content-Length: 0

</code></pre>
<p>Comprueba que el navegador env√≠a la cookie en su siguiente petici√≥n pero que, pasado 1 minuto, deja de enviarla.</p>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>¬øEn qu√© casos utilizar√≠as una cookie permanente?</em></p>
</blockquote>
</li>
<li>
<p>Adem√°s de la caducidad, una cookie puede tener otras caracter√≠sticas, muchas de ellas relacionadas con su seguridad<sup class="footnote-reference"><a href="#2">2</a></sup>. Repite los <strong>3 pasos iniciales</strong> y env√≠a esta respuesta:</p>
<pre><code class="language-http">HTTP/1.1 200 OK
Set-Cookie: mi-cookie-en-otro-path=valor; Path=/ruta
Set-Cookie: mi-cookie-segura=valor; Secure
Set-Cookie: mi-cookie-solo-http=valor; HttpOnly
Connection: keep-alive
Content-Type: text/html
Content-Length: 278

&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;Current cookies: &lt;code&gt;&lt;/code&gt;&lt;/p&gt;&lt;form action=&quot;/ruta&quot;&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;&lt;/form&gt;&lt;script&gt;document.getElementsByTagName(&quot;code&quot;)[0].innerHTML=document.cookie;document.cookie=&quot;mi-cookie-de-js=valor&quot;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;

</code></pre>
<p>La p√°gina muestra las cookies que JS es capaz de leer. Adem√°s, v√≠a JS a√±adimos una cookie. El bot√≥n &quot;Submit&quot; enviar√° una nueva petici√≥n al servidor pero a otra ruta. Antes de enviar, vuelve a hacer el <strong>paso 1</strong> de la p√°gina anterior.</p>
<blockquote>
<p>‚ÅâÔ∏è <strong>Pregunta:</strong> <em>¬øPor qu√© JS solo ve una cookie? ¬øPor qu√© se env√≠a la cookie con <code>Path</code>? ¬øSe env√≠an al servidor las cookies creadas con JS?</em></p>
</blockquote>
</li>
</ol>
<blockquote>
<p>‚ö†Ô∏è <strong>Importante</strong>: <em>para o borra el <a href="https://github.com/codespaces">Codespace</a> al terminar de usarlo.</em></p>
</blockquote>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>Como cabeceras HTTP de la respuesta o de la petici√≥n.</p>
</div>
<div class="footnote-definition" id="2"><sup class="footnote-definition-label">2</sup>
<p>El robo de las cookies de acceso es un problema t√≠pico en el mundo web.</p>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="theme/theme.js"></script>

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </body>
</html>
